<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ACG Black Hole Project</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; }
        canvas { width: 100vw; height: 100vh; display: block; }
    </style>
</head>
<body>
    <canvas id="gl-canvas"></canvas>

    <script id="vs" type="x-shader/x-vertex">#version 300 es
    in vec2 position;
    void main() {
        gl_Position = vec4(position, 0.0, 1.0);
    }
    </script>

    <script id="fs" type="x-shader/x-fragment">#version 300 es
    precision highp float;
    uniform vec2 u_resolution;
    uniform float u_time;
    uniform vec3 u_cameraPos;
    out vec4 outColor;

    void main() {
        vec2 uv = (gl_FragCoord.xy * 2.0 - u_resolution.xy) / u_resolution.y;
        vec3 ro = u_cameraPos; 
        vec3 target = vec3(0.0); 
        vec3 forward = normalize(target - ro);
        vec3 right = normalize(cross(vec3(0.0, 1.0, 0.0), forward));
        vec3 up = cross(forward, right);
        vec3 rd = normalize(forward + uv.x * right + uv.y * up);

        float t = 0.0;
        vec3 color = vec3(0.0);

        for(int i = 0; i < 64; i++) {
            vec3 p = ro + rd * t;

            float d = length(p) - 0.5;

            if(d < 0.001) {
                color = vec3(0.0); 
                break;
            }

            t += d;

            if(t > 15.0) {
                color = vec3(0.02, 0.02, 0.05);
                break;
            }
        }

        outColor = vec4(color, 1.0);
    }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"></script>
    <script src="./src/main.js"></script>
</body>
</html>
